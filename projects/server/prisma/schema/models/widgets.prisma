model Widget {
  id         String   @id @default(cuid()) @map("id")

  projectId  String @map("project_id")
  project    Project  @relation(fields: [projectId], references: [id], onDelete: Cascade)

  name       String
  type       WidgetType
  enabled    Boolean  @default(false)
  config     Json?
  configVersion Int?

  createdAt  DateTime @default(now()) @map("created_at")
  updatedAt  DateTime @updatedAt      @map("updated_at")

  @@index([projectId])
  @@unique([projectId, name])  // или [projectId, type] — по вашему правилу уникальности
  @@map("widgets")
}

enum WidgetType {
  WHEEL_OF_FORTUNE
  CONVEYOR_OF_GIFTS
  ACTION_TIMER
  POSTCARD
  CHEST_WITH_ACTION
  ADVENT_CALENDAR
  TEASER
}
